<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TalkUp English</title>

<!-- Bootstrap -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<style>
body { padding-top: 70px; font-family: Arial, sans-serif; }
.hidden { display: none; }
@keyframes rainbow { 0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;} }
.home-bg { background: linear-gradient(-45deg, red, orange, yellow, green, blue, indigo, violet); background-size: 400% 400%; animation: rainbow 15s ease infinite; color: white; min-height: 100vh; }
.logo { width:120px; animation: bounce 2s infinite; }
@keyframes bounce { 0%,20%,50%,80%,100%{transform:translateY(0);}40%{transform:translateY(-20px);}60%{transform:translateY(-10px);} }
.teacher-box { border-radius:15px;border:3px solid #fff;padding:10px;cursor:pointer;transition:transform 0.3s;min-height:180px;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.3);}
.teacher-box:hover { transform: scale(1.05); }
.teacher-box img { width:100%;border-radius:10px; }
.teacher-desc { font-size:0.75rem; display:none; white-space:pre-wrap; }
.teacher-name { font-size:0.9rem;font-weight:bold;margin-top:5px; }
.btn-book { font-size:1.2rem;padding:10px 30px;font-weight:bold;border-radius:50px;color:#fff;border:none;background: linear-gradient(45deg, red, orange, yellow, green, blue, indigo, violet);}
/* ================= MOBILE FRIENDLY ADDITIONS ================= */
@media (max-width: 768px) {

  body {
    padding-top: 60px;
  }

  /* Navbar */
  .navbar .container {
    flex-wrap: wrap;
  }

  .navbar-nav {
    width: 100%;
    justify-content: space-around;
    margin-top: 8px;
  }

  .navbar-nav .nav-link {
    font-size: 0.85rem;
    padding: 6px 4px;
  }

  /* Home layout */
  .home-bg {
    padding: 15px !important;
    text-align: center;
  }

  .home-bg .row {
    flex-direction: column;
  }

  .logo {
    width: 90px;
  }

  .btn-book {
    width: 100%;
    font-size: 1rem;
  }

  /* WeChat image */
  .home-bg img[width="150"] {
    width: 120px;
  }

  /* Teacher sidebar â†’ stacked */
  .home-bg .col-md-3 {
    margin-top: 20px;
    border-radius: 15px;
  }

  /* Teacher cards */
  .teacher-box {
    min-height: 140px;
    padding: 8px;
  }

  .teacher-name {
    font-size: 0.8rem;
  }

  .teacher-desc {
    font-size: 0.7rem;
  }

  /* Forms */
  input,
  select,
  textarea,
  button {
    font-size: 0.9rem;
  }

  /* Tables (attendance / admin) */
  table {
    font-size: 0.75rem;
  }

  table th,
  table td {
    padding: 6px;
  }

  /* Notification Center */
  #notificationCenter {
    width: 95%;
    right: 2.5%;
    top: 65px;
  }
}

/* Extra small devices */
@media (max-width: 480px) {

  h2, h3 {
    font-size: 1.2rem;
  }

  h4, h5 {
    font-size: 1rem;
  }

  .navbar-brand {
    font-size: 0.95rem;
  }

  .dropdown-menu {
    width: 100% !important;
  }
}
/* ===== BACKGROUND IMAGE BEHIND CONTENT (NO LAYOUT CHANGE) ===== */
.home-bg {
  position: relative;
  overflow: hidden;
}

/* Background image layer */
.home-bg::before {
  content: "";
  position: absolute;
  inset: 0;
  background: url("talkup.jpeg") center center / cover no-repeat;
  opacity: 0.25;               /* adjust if needed */
  z-index: 0;
}

/* Keep all content ABOVE the background image */
.home-bg > * {
  position: relative;
  z-index: 1;
}

</style>
</head>
<!-- ================== NOTIFICATION CENTER ================== -->
<div id="notificationCenter" class="hidden p-3 container" style="max-width:400px; position:fixed; top:70px; right:20px; z-index:1050; background:#fff; border:1px solid #ccc; border-radius:10px; box-shadow:0 2px 10px rgba(0,0,0,0.2);">
  <h5>ğŸ”” Notifications</h5>
  <ul id="notificationList" class="list-group list-group-flush"></ul>
  <button class="btn btn-sm btn-secondary mt-2 w-100" onclick="clearNotifications()">Clear All</button>
</div>



<body>

<!-- NAVBAR -->
<nav class="navbar navbar-dark bg-primary fixed-top">
<div class="container">
<a class="navbar-brand" href="javascript:void(0)" onclick="showPage('home')">ESL Learning.. </a>

<ul class="navbar-nav flex-row flex-wrap gap-2">
<li class="nav-item"><span class="nav-link text-white" onclick="showPage('home')">Home</span></li>
<li class="nav-item"><span class="nav-link text-white" onclick="showPage('trial')">Trial Class Booking</span></li>
<li class="nav-item"><span class="nav-link text-white" onclick="showPage('teachers')">Teachers</span></li>
<li class="nav-item"><span class="nav-link text-white" onclick="showPage('dashboard')">Dashboard</span></li>
</ul>
  
<div class="dropdown ms-3">
<button class="btn btn-primary dropdown-toggle" type="button" data-bs-toggle="dropdown">â˜°</button>

<ul class="dropdown-menu dropdown-menu-end p-2" style="width:320px">

  <!-- ADMIN -->
  <li class="dropdown-item small admin-only"
      onclick="showPage('trialAssign')">
    ğŸ¯ Trial Class Assignment
  </li>

  <li class="dropdown-item small"
      onclick="showPage('attendanceTracking')">
    ğŸ“Š Attendance Tracking
  </li>

  <li class="dropdown-item small admin-only"
      onclick="showPage('absenceOverview')">
    âš ï¸ Teacher Absence Overview
  </li>

  <!-- DASHBOARDS -->
  <li class="dropdown-item small"
      onclick="showPage('parentDashboardSection')">
    ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Parent Dashboard
  </li>

  <li class="dropdown-item small"
      onclick="showPage('teacherDashboardSection')">
    ğŸ‘©â€ğŸ« Teacher Dashboard
  </li>

</ul>

</div>
</div>
</nav>

  
<div class="container-fluid">
<!-- HOME -->
<div id="home" class="home-bg p-4">
  <div class="row">
    <div class="col-md-9 text-center p-5">
      <img src="logo.png" class="logo mb-3">
      <h2>TalkUp English: Speak Up, Stand Out!</h2>
      <p class="mb-3">Book a Fun English Class</p>
      <a href="booking.html" class="btn btn-book mb-4">Book Now</a><p> 
      <a href="https://script.google.com/macros/s/AKfycbywGhqmLB1n3Zc3Sl0X1Frd0WixFwa6lXPo2JSysrN2CFAGAO_UQKOISJ27SZzrppZW/exec" class="btn btn-book mb-4">Partial/Full Payment</a></p>
      <div><p>For further inquiries, connect via WeChat</p><img src="wechat.png" width="150" class="rounded border border-light"></div>
    </div>
    <div class="col-md-3 p-4" style="background:rgba(0,0,0,0.25)">
      <h4 class="mb-4">
  ğŸ‘©â€ğŸ« Our Teachers
  <a href="https://script.google.com/macros/s/AKfycbxdvWuXC1yjRi-tij9-bih-D9kw3N56d_ya-cDc18_yQHD8ceyvGcbhhDK-GpQbfjVq/exec"
     class="ms-2 text-white text-decoration-underline"
     style="font-size:0.85rem;">
     CLASS Schedule
  </a>      
</h4>

      <div class="row g-3 text-center">

        <div class="col-6">
          <div class="teacher-box" onclick="toggleProfile(this)">
            <img src="profile.jpeg">
            <div class="teacher-desc">
ğŸ‘©â€ğŸ« Teacher Ann

Iâ€™m a TEFL-certified English teacher with 5 years of teaching experience across Asia and Europe. I teach both kids and adults, including IELTS preparation, and I focus on making lessons friendly, patient, and fun. Iâ€™ve also taught through platforms like HelloTalk, PalFish (Banyu), and my private tutoring services and I enjoy creating engaging lessons that help students improve their speaking, listening, and confidence in English.
            </div>
          </div>
          <div class="teacher-name">Teacher Ann</div>
        </div>

        <div class="col-6">
          <div class="teacher-box" onclick="toggleProfile(this)">
            <img src="teacher-john.png">
            <div class="teacher-desc">
ğŸ‘¨â€ğŸ« Teacher John

IELTS specialist
7 years teaching experience
Speaking & pronunciation focus
            </div>
          </div>
          <div class="teacher-name">Teacher John</div>
        </div>

        <div class="col-6">
          <div class="teacher-box" onclick="toggleProfile(this)">
            <img src="teacher-lisa.png">
            <div class="teacher-desc">
ğŸ‘©â€ğŸ« Teacher Lisa

Kids English expert
Phonics & storytelling
            </div>
          </div>
          <div class="teacher-name">Teacher Lisa</div>
        </div>

        <div class="col-6">
          <div class="teacher-box" onclick="toggleProfile(this)">
            <img src="teacher-mark.png">
            <div class="teacher-desc">
ğŸ‘¨â€ğŸ« Teacher Mark

Business English coach
Professional communication
            </div>
          </div>
          <div class="teacher-name">Teacher Mark</div>
        </div>

      </div>
    </div>

  </div>
</div>
    </div>
  </div>
</div>

<!-- TRIAL -->
<div id="trial" class="hidden p-4 container">
  <h2>Trial Class Booking</h2>
  <form id="trialForm">
    <input class="form-control mb-2" id="parentName" placeholder="Parent Name" required>
    <input class="form-control mb-2" id="studentName" placeholder="Student Name" required>
    <input class="form-control mb-2" id="email" type="email" placeholder="Email" required>
    <input class="form-control mb-2" id="phone" placeholder="Phone" required>
    <input class="form-control mb-2" id="preferredTeacher" placeholder="Preferred Teacher (Optional)">
    <button class="btn btn-primary">Book Trial</button>
  </form>
  <div id="trialMessage" class="mt-3"></div>
</div>

<!-- TEACHERS -->
<div id="teachers" class="hidden p-4 container">
  <h2>Our Teachers</h2>
  <ul>
    <li>Teacher Ann â€“ IELTS & Kids</li>
    <li>Teacher John â€“ IELTS Specialist</li>
    <li>Teacher Lisa â€“ Kids English</li>
    <li>Teacher Mark â€“ Business English</li>
  </ul>
</div>

<!-- DASHBOARD -->
<div id="dashboard" class="hidden p-4 container">
  <h2>Dashboard</h2>
  <select id="roleSelect" class="form-select mb-2">
    <option value="">Select Role</option>
    <option value="parent">Parent</option>
    <option value="teacher">Teacher</option>
    <option value="admin">Admin</option>
  </select>
  <input id="nameInput" class="form-control mb-2" placeholder="Enter Name">
  <button class="btn btn-success" onclick="loadDashboard()">Load Dashboard</button>
  <div id="dashboardContent" class="mt-3"></div>
</div>


<!-- TEACHER DASHBOARD -->
<div id="teacherDashboard" class="hidden p-4 container">
  <h3>ğŸ‘©â€ğŸ« Teacher Dashboard</h3>
  <p><strong>Attendance Score:</strong> <span id="attendanceScore">100%</span></p>
  <p>Parent Feedback: â­â­â­â­â˜†</p>
  <p>Trial Conversion Rate: 60%</p>
</div>

</div>
<!-- ================== PARENT DASHBOARD ================== -->
<div id="parentDashboardSection" class="hidden p-4 container">
  <h3>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Parent Dashboard</h3>
  <div id="parentTrials" class="mb-3"></div>
  <div id="parentPayments" class="mb-3"></div>
  <div id="parentFeedback" class="mb-3"></div>
</div>

<!-- ================== TEACHER DASHBOARD ================== -->
<div id="teacherDashboardSection" class="hidden p-4 container">
  <h3>ğŸ‘©â€ğŸ« Teacher Dashboard</h3>
  <p><strong>Attendance Score:</strong> <span id="teacherAttendanceScore">100%</span></p>
  <p><strong>Payroll:</strong> $<span id="teacherPayroll">0</span></p>
  <div id="teacherTrials" class="mb-3"></div>
  <div id="teacherFeedback" class="mb-3"></div>
</div>

<!-- TRIAL ASSIGN -->
<div id="trialAssign" class="hidden p-4 container admin-only">
  <h3>ğŸ¯ Trial Class Assignment</h3>
  <input class="form-control mb-2" placeholder="Student Name">
  <input class="form-control mb-2" placeholder="Assigned Teacher">
  <button class="btn btn-primary">Assign Teacher</button>
</div>

<!-- ATTENDANCE TRACKING -->
<div id="attendanceTracking" class="hidden p-4 container">
  <h3>ğŸ“Š Attendance Tracking</h3>
  <ul>
    <li>Conducted</li>
    <li>Teacher Absent</li>
    <li>Student Absent</li>
    <li>Late / No Show</li>
    <li>Make-up Classes</li>
  </ul>
</div>

<!-- ABSENCE OVERVIEW -->
<div id="absenceOverview" class="hidden p-4 container admin-only">
  <h3>âš ï¸ Teacher Absence Overview</h3>
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>Teacher</th>
        <th>Absent</th>
        <th>Late</th>
        <th>Risk</th>
      </tr>
    </thead>
    <tbody id="absenceTable"></tbody>
  </table>
</div>

<!-- ================= MAIN APP SCRIPT ================= -->
<script>
  function toggleProfile(box) {
  const desc = box.querySelector('.teacher-desc');
  if(desc) desc.style.display = desc.style.display === 'none' ? 'block' : 'none';
}

/* ========= HELPERS (FIRST) ========= */
function saveData(key, data) {
  localStorage.setItem(key, JSON.stringify(data));
}

function loadData(key) {
  return JSON.parse(localStorage.getItem(key)) || [];
}
/* ========= PAGE SWITCHING ========= */
function showPage(pageId) {
  // Hide all pages
  const pages = document.querySelectorAll('.container, .home-bg');
  pages.forEach(p => p.classList.add('hidden'));

  // Show the selected page
  const page = document.getElementById(pageId);
  if (page) page.classList.remove('hidden');
}

/* ========= STATE ========= */
let attendanceLog = loadData("attendanceLog");
let trialLog = loadData("trialLog");
let paymentLog = loadData("paymentLog");
let feedbackLog = loadData("feedbackLog");

/* ========= TEST ========= */
console.log("loadData works:", attendanceLog);


/* ========= STOP HERE TEMPORARILY ========= */
</script>
<script>
document.getElementById("trialForm").addEventListener("submit", function(e) {
  e.preventDefault();

  const formData = new FormData();
  formData.append("parentName", parentName.value);
  formData.append("studentName", studentName.value);
  formData.append("email", email.value);
  formData.append("phone", phone.value);
  formData.append("preferredTeacher", preferredTeacher.value);

  fetch("https://script.google.com/macros/s/AKfycby4y9Z6NbzynxBqNmzh950OWmB6Gg128MJoez3p7RTTezIWZT2J_6dALv-LyOchKz-k/exec", {
    method: "POST",
    body: formData,
    mode: "no-cors"
  });

  trialMessage.innerHTML =
    "<div class='alert alert-success'>Trial booked successfully!</div>";

  this.reset();
});
</script>
<script>
  const params = new URLSearchParams(window.location.search);
  const message = params.get("message");

  if (message) {
    alert(message);

    // Optional: remove message from URL after showing
    window.history.replaceState({}, document.title, "index.html");
  }
</script>

</body>
</html>


