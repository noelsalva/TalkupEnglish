<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<title>Admin Dashboard</title>
</head>
<body class="container py-5">

<h3>Admin Dashboard</h3>
<button class="btn btn-success w-100 mb-2" onclick="viewReports()">View Reports</button>
<button class="btn btn-warning w-100 mb-2" onclick="autoAssign()">Auto Assign Pending Trials</button>
<div id="reports" class="mt-3"></div>

<script>
const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbwg1Qyuu-tUpVi_ZSKH8NLO4UqSq_iBTU61nUgyX4L7WxpL28rmNJZls8SVfVWFyKwZ/exec";

function viewReports(){
 fetch(WEB_APP_URL+"?page=admin")
 .then(r=>r.text())
 .then(html=>document.getElementById("reports").innerHTML=html);
}

function autoAssign(){
 fetch(WEB_APP_URL+"?assign=1")
 .then(()=> alert("Pending trials assigned!"));
}
</script>

</body>
</html>
